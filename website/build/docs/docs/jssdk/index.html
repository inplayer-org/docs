<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>SDK for JavaScript · Inplayer docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;full-technical-reference&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#full-technical-reference&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Full technical reference&lt;/h2&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="SDK for JavaScript · Inplayer docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://inplayer.com/index.html"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;full-technical-reference&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#full-technical-reference&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Full technical reference&lt;/h2&gt;
"/><meta property="og:image" content="https://inplayer.com/img/inplayer-logo-1.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://inplayer.com/img/inplayer-logo-1.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/dark.min.css"/><link rel="stylesheet" href="/css/code-block-buttons.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/js/code-block-buttons.js"></script><link rel="stylesheet" href="/css/prism.css"/><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/inplayer-logo-new-white-hex.svg" alt="Inplayer docs"/><h2 class="headerTitleWithLogo">Inplayer docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/libraries" target="_self">Docs</a></li><li class=""><a href="https://github.com/inplayer-org" target="_self">GitHub</a></li><li class=""><a href="/docs/security" target="_self">Security</a></li><li class=""><a href="/docs/contact" target="_self">Contact</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Libraries</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Libraries</h3><ul><li class="navListItem"><a class="navItem" href="/docs/libraries">Libraries Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/paywall2">Paywall 2.0</a></li><li class="navListItem"><a class="navItem" href="/docs/paywall1">Paywall 1.0</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/jssdk">SDK for JavaScript</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">API</h3><ul><li class="navListItem"><a class="navItem" href="/docs/api">InPlayer API documentation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Dashboard</h3><ul><li class="navListItem"><a class="navItem" href="/docs/dashboard">Dashboard Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Web-Hooks</h3><ul><li class="navListItem"><a class="navItem" href="/docs/webhooks">InPlayer Webhooks</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">SDK for JavaScript</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="full-technical-reference"></a><a href="#full-technical-reference" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Full technical reference</h2>
<p>You can have the full technical reference of all SDK methods at the following link.</p>
<p><a href="https://inplayer-org.github.io/inplayer.js/">https://inplayer-org.github.io/inplayer.js/</a></p>
<p>However we advice to read this tutorial before jumping into exploring the SDK.</p>
<p>The InPlayer SDK for JS allows developers to build libraries and applications that use InPlayer Platform services. You can use the JS SDK for any frontend project.</p>
<h2><a class="anchor" aria-hidden="true" id="installing-the-sdk"></a><a href="#installing-the-sdk" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing the SDK</h2>
<p>You can find the InPlayer JS SDK on the following NPM url:</p>
<p><a href="https://www.npmjs.com/package/@inplayer-org/inplayer.js">https://www.npmjs.com/package/@inplayer-org/inplayer.js</a></p>
<p>To use the SDK you can instal the package direcly from NPM</p>
<pre><code class="hljs css language-js">npm install –save @inplayer-org/inplayer.js
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="setting-up-the-sdk"></a><a href="#setting-up-the-sdk" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting up the SDK</h2>
<p>Once the SDK is installed, all the methods will be abailable for you in the InPlayer global object.</p>
<p>All the calls return a promise with some relevant data. Meaning after any call you will have to resolve the promise:</p>
<pre><code class="hljs css language-js">.then(<span class="hljs-function"><span class="hljs-params">data</span>=&gt;</span>{<span class="hljs-comment">//do something with data})</span>
</code></pre>
<p>Curently there are two different environments for the SDK, development and production. You can swap between these environments using the setConfig method:</p>
<pre><code class="hljs css language-js">InPlayer.setConfig(<span class="hljs-string">'develop'</span>); <span class="hljs-comment">// the default one</span>
InPlayer.setConfig(<span class="hljs-string">'prod'</span>); <span class="hljs-comment">// the production</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="how-to-examples"></a><a href="#how-to-examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to Examples</h2>
<p>In the following section you can find multiple how to examples about doing specific functionalities with InPlayer monetization platform.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-register-account"></a><a href="#how-to-register-account" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to register Account</h2>
<p>The registration can be done using the InPlayer.Account.signUp() method.</p>
<pre><code class="hljs css language-js">InPlayer.Account.signUp({
    <span class="hljs-attr">fullName</span>: <span class="hljs-string">'test'</span>,
    <span class="hljs-attr">email</span>:  <span class="hljs-string">'test32@test.com'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">'12345678'</span>,
    <span class="hljs-attr">passwordConfirmation</span>: <span class="hljs-string">'12345678'</span>,
    <span class="hljs-attr">clientId</span>: <span class="hljs-string">'d20252cb-d057-4ce0-83e0-63da6dbabab1'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'consumer'</span>,
    <span class="hljs-attr">referrer</span>: <span class="hljs-string">'http://localhost:3000/'</span>,
    <span class="hljs-attr">metadata</span>: {
    <span class="hljs-attr">city</span>: <span class="hljs-string">'Skopje'</span>
}
}).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
<p>The fullName, email, password, passwordConfirmation, type and clientId parameters are always required.</p>
<p>Before you start using the inplayer SDK we sugest that you create new OAUTH application from our Dashboard as described in this guide LINK_FROM_GUIDE and obtain your clinetId. In case you dont have OAUTH application, you can use your account UUID as clientId. You can find your UUID in the account details section in the InPlayer Dashboard from the right top corner menu.</p>
<p>The type parametar can be either 'consumer' or 'merchant'. In case you want to create merchant accounts over the API you will have to use InPlayers public UUID for the clientId parameter.</p>
<p>There is also a metadata parametar, which can be aditional dynamic fields that Merchants can chose to ask from their end-Accounts upon registration. If there are required custom registration fields defined for your Merchant account, you will have to send those details as well. By default metadata is optional.</p>
<p>Lastly, the referrer parameter can be passed manualy for every register request. It represents the URL from which the request is invoked, or the place from where the account is created.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-authenticate-account"></a><a href="#how-to-authenticate-account" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to authenticate Account</h2>
<p>The authentication can be done using the InPlayer.Account.authenticate() method.</p>
<pre><code class="hljs css language-js">InPlayer.Account.authenticate({
    <span class="hljs-attr">email</span>: <span class="hljs-string">'test32@test.com'</span>,
    <span class="hljs-attr">password</span>: <span class="hljs-string">'12345678'</span>,
    <span class="hljs-attr">clientId</span>: <span class="hljs-string">'d20252cb-d057-4ce0-83e0-63da6dbabab1'</span>,
}).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
<p>After the account is logged in, you should be able to see an object containing InPlayer Auth token inside localStogare.</p>
<p>If you need to make additional calls in the name of the authenticated Account you can fetch the token with the InPlayer.Account.token() call. Additionally you may call InPlayer.Account.isSignedIn() to check if someone is logged in or not.</p>
<p>For the Account sign out operation use the following call</p>
<pre><code class="hljs css language-js">InPlayer.Account.signOut() .then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="websockets"></a><a href="#websockets" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Websockets</h2>
<p>One an account is logged in to our system, our Servers can communicate with the client website over Web Sockets for various reasons. In most of the cases when we need real time communication. Usualy we handle payment results or access expiring through such notifications.</p>
<p>You need to register for a Web-Socket in the following cases:</p>
<ol>
<li>Every time someone successfully signs in.</li>
<li>Every time you validate logged in account. Usualy on each page refresh.</li>
<li>Every time someone registers account and you auto login him using the access token direcly.</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="how-to-subscribe-to-web-socket-and-listen-for-messages"></a><a href="#how-to-subscribe-to-web-socket-and-listen-for-messages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to subscribe to web-socket and listen for messages</h2>
<p>Here is a sample code that will let you subscribe to a Web Socket and listen for messages.</p>
<pre><code class="hljs css language-js">InPlayer.subscribe(InPlayer.Account.token(),{
<span class="hljs-attr">onMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{ <span class="hljs-comment">/* do something with the message result */</span> },
<span class="hljs-attr">onOpen</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{ <span class="hljs-comment">/* do something on connection open },
onClose: function(e) { /* do something on connection close*/</span> }
});
</code></pre>
<p>It is importnat to know that you will need to have a code that will process every diffrent notification type, when you recieve notification message inside OnMessage callback.</p>
<p>Basic use case is to have 'redirect to premium section' handler after successful payment notification message.</p>
<p>For example:</p>
<pre><code class="hljs css language-js">InPlayer.subscribe(InPlayer.Account.token(),
{
<span class="hljs-attr">onMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{
<span class="hljs-keyword">if</span>(message.type===<span class="hljs-string">'payment.success'</span>) {
<span class="hljs-built_in">window</span>.location.href=<span class="hljs-string">'http://mywebsite.com/premium-section'</span> <span class="hljs-comment">/*
}
}
});
</span></code></pre>
<h2><a class="anchor" aria-hidden="true" id="how-to-create-payments"></a><a href="#how-to-create-payments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to create payments</h2>
<p>If you need to make a payment first you will need to find and fetch the prefered payment method from the Account input. In order to do that you need to call getPaymentMethods with the merchant_uuid identifier for the merchant account.</p>
<pre><code class="hljs css language-js">InPlayer.Payment
.getPaymentMethods(MERCHANT_UUID)
.then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
<p>Once you fetch the ID of the prefered method you can use it to create payments or subscriptions. If you use only one payment method this step is not needed but you should find your method ID once.</p>
<p>The next thing you will need is valid access fee. In the InPlayer platform you can create digital assets(mainly videos), then attach price with currency and access period to the asset to create access fees. AccessFee is an object that hold the data of how much the asset costs, and how long the Account will have access to it once its purchased for the given price. Before every payment all AccesFees(price options) should be presented to the end-Account so he can chose which is the best option for him. Once the end-Account select the AccessFee, you will need to send the AccessFeeId to the payments API.</p>
<p>Given the paragraph from above the first step in making payments is to fetch all AccessFees for one Asset(digital item). If you want to know more about inPlayer Assets and how to create them and attach prices reffer to this guide. The JS SDK is client side library only so Assets and Prices management is done via our API or via the Dashboard.</p>
<pre><code class="hljs css language-js">InPlayer.Asset.getAccessFees({ASSET_ID}).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> { <span class="hljs-comment">//do something with data }</span>
</code></pre>
<p>After you fetch all AccessFees for your digital Asset(One asset id can represent an OVP video, any file, html, audio or flexible collection) the end-Account should chose his prefered option. Then you will need to pass the selected AccessFeeId to the purchase calls. The methods for one time payments and recurring subscriptions are different. The AccessFee has its own type (Recurrent or PPV), so depending on the selected fee type you will make the following actions:</p>
<h2><a class="anchor" aria-hidden="true" id="creating-one-time-card-payments"></a><a href="#creating-one-time-card-payments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating one time card payments</h2>
<pre><code class="hljs css language-js">InPlayer.Payment
.Create(MERCHANT_UUID,
{
    <span class="hljs-attr">number</span>: <span class="hljs-number">4111111111111111</span>,
    <span class="hljs-attr">cardName</span>: <span class="hljs-string">'Example Name'</span>,
    <span class="hljs-attr">expMonth</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">expYear</span>: <span class="hljs-number">2030</span>,
    <span class="hljs-attr">cvv</span>: <span class="hljs-number">656</span>,
    <span class="hljs-attr">accessFee</span>: <span class="hljs-number">2341</span>,
    <span class="hljs-attr">paymentMethod</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">referrer</span>: <span class="hljs-string">'http://example-website.com'</span>,
    <span class="hljs-attr">voucherCode</span>: <span class="hljs-string">'fgh1982gff-0f2grfds'</span>
})
.then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="creating-card-recuring-subscriptions"></a><a href="#creating-card-recuring-subscriptions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating card recuring subscriptions</h2>
<pre><code class="hljs css language-js">InPlayer.Subscription
.Create(MERCHANT_UUID,
{
    <span class="hljs-attr">number</span>: <span class="hljs-number">4111111111111111</span>,
    <span class="hljs-attr">cardName</span>: <span class="hljs-string">'Example Name'</span>,
    <span class="hljs-attr">expMonth</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">expYear</span>: <span class="hljs-number">2030</span>,
    <span class="hljs-attr">cvv</span>: <span class="hljs-number">656</span>,
    <span class="hljs-attr">accessFee</span>: <span class="hljs-number">2341</span>,
    <span class="hljs-attr">paymentMethod</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">referrer</span>: <span class="hljs-string">'http://example-website.com'</span>,
    <span class="hljs-attr">voucherCode</span>: <span class="hljs-string">'fgh1982gff-0f2grfds'</span>
})
.then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="how-to-make-paypal-payments"></a><a href="#how-to-make-paypal-payments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to make paypal payments</h2>
<p>To make PayPal payments you will need additional call to fetch the payment details.</p>
<pre><code class="hljs css language-js">InPlayer.Payment.getPayPalParams(InPlayer.Account.token(), {
    <span class="hljs-attr">origin</span>: <span class="hljs-built_in">window</span>.location.href,
    <span class="hljs-attr">accessFee</span>: ACCESS_FEE_ID,
    <span class="hljs-attr">paymentMethod</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">voucherCode</span>: <span class="hljs-string">'some voucher code here'</span> (not mandatory)
}).then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> { <span class="hljs-comment">// handle paypal data here }</span>
</code></pre>
<p>After the call is successful you will get the nessesary PayPal data for the external payment. In the response you will have the endpoint url, which will be either sandbox paypal for development, or standard paypal url for production mode. Use the data.endpoint value to make a redurect link to PayPal and create your PayPal button.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-validate-content-access"></a><a href="#how-to-validate-content-access" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to validate content access</h2>
<p>When you need to check if some Account has access to watch some Asset you will need to fetch the Authorisation token of the logged in Account and call the checkAccessForAsset method with your asset ID.</p>
<pre><code class="hljs css language-js">InPlayer.Asset
.checkAccessForAsset(InPlayer.Account.token(),ASSET_ID)
.then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
<p>As a response you will recieve an object with full info about the Asset Access. This way you can keep the non premium viewers away from the premium content.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-create-my-account-menu"></a><a href="#how-to-create-my-account-menu" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to create 'My Account' menu</h2>
<p>When you need to create the account menu of the logged in person you will need the following segments: Account details, ability to update account details, account purchase history, account subscriptions and ability to cancel subscriptions.</p>
<h2><a class="anchor" aria-hidden="true" id="fetch-account-details"></a><a href="#fetch-account-details" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Fetch Account details</h2>
<p>By passing the authorisation token you can fetch all Account details using the getAccountInfo method.</p>
<pre><code class="hljs css language-js">InPlayer.Account
.getAccountInfo(InPlayer.Account.token())
.then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="update-account-details"></a><a href="#update-account-details" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Update Account details</h2>
<pre><code class="hljs css language-js">InPlayer.Account
.updateAccount({<span class="hljs-attr">fullName</span>: <span class="hljs-string">'John Doe'</span>, <span class="hljs-attr">metadata</span>: {<span class="hljs-attr">country</span>: <span class="hljs-string">'Example Country'</span>}},InPlayer.Account.token())
.then(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(data));
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/paywall1"><span class="arrow-prev">← </span><span>Paywall 1.0</span></a><a class="docs-next button" href="/docs/api"><span class="function-name-prevnext">InPlayer API documentation</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#full-technical-reference">Full technical reference</a></li><li><a href="#installing-the-sdk">Installing the SDK</a></li><li><a href="#setting-up-the-sdk">Setting up the SDK</a></li><li><a href="#how-to-examples">How to Examples</a></li><li><a href="#how-to-register-account">How to register Account</a></li><li><a href="#how-to-authenticate-account">How to authenticate Account</a></li><li><a href="#websockets">Websockets</a></li><li><a href="#how-to-subscribe-to-web-socket-and-listen-for-messages">How to subscribe to web-socket and listen for messages</a></li><li><a href="#how-to-create-payments">How to create payments</a></li><li><a href="#creating-one-time-card-payments">Creating one time card payments</a></li><li><a href="#creating-card-recuring-subscriptions">Creating card recuring subscriptions</a></li><li><a href="#how-to-make-paypal-payments">How to make paypal payments</a></li><li><a href="#how-to-validate-content-access">How to validate content access</a></li><li><a href="#how-to-create-my-account-menu">How to create 'My Account' menu</a></li><li><a href="#fetch-account-details">Fetch Account details</a></li><li><a href="#update-account-details">Update Account details</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/inplayer-logo.png" alt="Inplayer docs" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/paywall2.html">Paywall 2.0</a><a href="/docs/paywall1.html">Paywall 1.0</a><a href="/docs/api.html">API Reference</a><a href="/docs/webhooks.html">Webhooks</a><a href="/docs/jssdk.html">JS SDK</a></div><div><h5>Social</h5><a href="https://www.instagram.com/inplayer.team">Instagram</a><a href="https://www.facebook.com/inplayer" target="_blank" rel="noreferrer noopener">Facebook</a><a href="https://twitter.com/inplayer" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/inplayer-org">GitHub</a></div></section><section class="copyright">Copyright © 2018 InPlayer Limited</section></footer></div></body></html>